{% extends "layout.html" %}
{% load component_tags %}

{% block title %}USWDS Component Demo{% endblock %}

{% block extra_css %}
<style>
  /* Auto-fit card grid layout */
  .card-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
    gap: 2rem !important;
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
    width: 100% !important;
  }

  /* Override USWDS positioning on card grid children */
  .card-grid > * {
    margin: 0 !important;
    max-width: none !important;
    width: 100% !important;
  }

  /* Ensure cards stretch to fill grid cell height */
  .card-grid > .usa-card {
    height: 100%;
    position: relative !important;
    flex: none !important;
  }

  /* Ensure card container takes full height */
  .card-grid .usa-card__container {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  /* Push footer to bottom of card */
  .card-grid .usa-card__body {
    flex-grow: 1;
  }

  /* Responsive adjustments */
  @media (min-width: 640px) {
    .card-grid {
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;
    }
  }
</style>
{% endblock %}

{% block content %}
<section class="usa-section">
  <div class="grid-container">
    <h1 class="margin-bottom-4">USWDS Component Demo</h1>
    <p class="usa-intro">
      This page demonstrates all available USWDS components built with django-components.
    </p>

    <!-- Alert Components Section -->
    <h2 class="margin-top-6">Alert Components</h2>
    <p class="text-base-dark margin-bottom-3">
      Alerts keep users informed of important and sometimes time-sensitive changes.
    </p>

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Success Alert</h3>
    {% component "alert" type="success" heading="Success status" message="This is a success alert with a heading." %}
    {% endcomponent %}

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Warning Alert</h3>
    {% component "alert" type="warning" heading="Warning status" message="This is a warning alert with a heading." %}
    {% endcomponent %}

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Error Alert</h3>
    {% component "alert" type="error" heading="Error status" message="This is an error alert with a heading." %}
    {% endcomponent %}

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Info Alert</h3>
    {% component "alert" type="info" heading="Informative status" message="This is an info alert with a heading." %}
    {% endcomponent %}

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Slim Alert (No Heading)</h3>
    {% component "alert" type="info" message="This is a slim info alert without a heading." slim=True %}
    {% endcomponent %}

    <hr class="margin-y-6">

    <!-- Button Components Section -->
    <h2 class="margin-top-0">Button Components</h2>
    <p class="text-base-dark margin-bottom-3">
      Buttons signal actions and guide users through tasks and workflows.
    </p>

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Button Types</h3>
    <div class="display-flex flex-wrap gap-2">
      {% component "button" text="Default Button" type="default" %}
      {% endcomponent %}
      {% component "button" text="Primary Button" type="primary" %}
      {% endcomponent %}
      {% component "button" text="Secondary Button" type="secondary" %}
      {% endcomponent %}
      {% component "button" text="Accent Cool Button" type="accent-cool" %}
      {% endcomponent %}
      {% component "button" text="Base Button" type="base" %}
      {% endcomponent %}
    </div>

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Outline Buttons</h3>
    <div class="display-flex flex-wrap gap-2">
      {% component "button" text="Outline Button" type="outline" %}
      {% endcomponent %}
      {% component "button" text="Outline Inverse" type="outline inverse" %}
      {% endcomponent %}
    </div>

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Button Sizes</h3>
    <div class="display-flex flex-wrap gap-2">
      {% component "button" text="Big Button" type="primary" size="big" %}
      {% endcomponent %}
      {% component "button" text="Normal Button" type="primary" %}
      {% endcomponent %}
    </div>

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Link Buttons</h3>
    <div class="display-flex flex-wrap gap-2">
      {% component "button" text="Visit Home" type="primary" url="/" %}
      {% endcomponent %}
      {% component "button" text="Health Check" type="secondary" url="/health/" %}
      {% endcomponent %}
    </div>

    <hr class="margin-y-6">

    <!-- Card Components Section -->
    <h2 class="margin-top-0">Card Components</h2>
    <p class="text-base-dark margin-bottom-3">
      Cards contain content and actions about a single subject.
    </p>

    <h3 class="font-body-lg text-bold margin-top-4 margin-bottom-2">Default Cards</h3>
    <div class="card-grid">
      {% component "card" title="Basic Card (no media)" description="Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis earum tenetur quo cupiditate, eaque qui officia recusandae." link_url="#" link_text="Visit Florida Keys" %}{% endcomponent %}
      
      {% component "card" title="Card with Media" description="Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis earum tenetur quo cupiditate, eaque qui officia recusandae." media_url="https://designsystem.digital.gov/img/introducing-uswds-2-0/built-to-grow--alt.jpg" media_alt="A placeholder image" link_url="#" link_text="Visit Florida Keys" %}{% endcomponent %}
      
      {% component "card" title="Header First + Exdent Media" description="Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempore possimus similique nemo odit doloremque laudantium?" header_first=True media_url="https://designsystem.digital.gov/img/introducing-uswds-2-0/built-to-grow--alt.jpg" media_alt="A placeholder image" media_exdent=True link_url="#" link_text="Visit Florida Keys" %}{% endcomponent %}
      
      {% component "card" title="Inset Media" description="Etiam vitae sodales metus. Fusce id orci dignissim, efficitur risus eget, tempus odio. Donec lectus ante, auctor eget cursus sed, convallis quis magna." media_url="https://designsystem.digital.gov/img/introducing-uswds-2-0/built-to-grow--alt.jpg" media_alt="A placeholder image" media_inset=True link_url="#" link_text="Visit Florida Keys" %}{% endcomponent %}
      
      {% component "card" title="Exdent Media" description="Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempore possimus similique nemo odit doloremque laudantium?" media_url="https://designsystem.digital.gov/img/introducing-uswds-2-0/built-to-grow--alt.jpg" media_alt="A placeholder image" media_exdent=True link_url="#" link_text="Visit Florida Keys" %}{% endcomponent %}
    </div>

    <h3 class="font-body-lg text-bold margin-top-6 margin-bottom-2">Additional Cards</h3>
    <p class="text-base-dark margin-bottom-3">
      Additional card examples showing media positioning and inset options.
    </p>
    <div class="card-grid">
      {% component "card" title="Media Left" description="Lorem ipsum dolor sit amet consectetur adipisicing elit." media_url="https://designsystem.digital.gov/img/introducing-uswds-2-0/built-to-grow--alt.jpg" media_alt="A placeholder image" link_url="#" link_text="Visit Florida Keys" %}{% endcomponent %}
      
      {% component "card" title="Media Right + Inset" description="Lorem ipsum dolor sit amet consectetur adipisicing elit." media_inset=True media_url="https://designsystem.digital.gov/img/introducing-uswds-2-0/built-to-grow--alt.jpg" media_alt="A placeholder image" link_url="#" link_text="Visit Florida Keys" %}{% endcomponent %}
    </div>

    <hr class="margin-y-6">

    <!-- Accordion Components Section -->
    <h2 class="margin-top-0">Accordion Components</h2>
    <p class="text-base-dark margin-bottom-3">
      Accordions are a list of headers that hide or reveal additional content when selected.
    </p>

    <h3 class="font-body-md text-bold margin-top-3 margin-bottom-2">Standard Accordion</h3>
    {% component "accordion" items=accordion_items %}
    {% endcomponent %}

    <h3 class="font-body-md text-bold margin-top-4 margin-bottom-2">Bordered Accordion</h3>
    {% component "accordion" items=accordion_items bordered=True id_prefix="accordion-bordered" %}
    {% endcomponent %}

    <h3 class="font-body-md text-bold margin-top-4 margin-bottom-2">Multi-Selectable Accordion</h3>
    <p class="text-base-dark margin-bottom-2">This accordion allows multiple sections to be open simultaneously.</p>
    {% component "accordion" items=accordion_items multiselectable=True id_prefix="accordion-multi" %}
    {% endcomponent %}

    <hr class="margin-y-6">

    <!-- Banner Component Section -->
    <h2 class="margin-top-0">Banner Component</h2>
    <p class="text-base-dark margin-bottom-3">
      The banner identifies official government websites and appears at the top of every page. 
      You can see it in action at the very top of this page.
    </p>
    <p class="text-base-dark">
      <strong>Note:</strong> The banner component is already included in the base layout template 
      and automatically appears on all pages.
    </p>

  </div>
</section>
{% endblock %}
